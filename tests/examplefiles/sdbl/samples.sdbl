// SYNTAX TEST "source.sdbl"
ВЫБРАТЬ
// <- Token.Keyword.Declaration
// Комментарий запроса
// <- Token.Comment.Single
    "Многострочная
//  ^ Token.Literal.String
    // это Комментарий
//  ^ Token.Comment.Single
    с экранированной "" кавычкой
//                   ^^ Token.Literal.String.Escape
    строка" КАК Поле,
//  ^^^^^^^ Token.Literal.String
//  ^ Token.Literal.String
//          ^^^ Token.Keyword.Declaration
//              ^ not:Token.Keyword.Declaration
//                  ^ Token.Operator
    Неопределено КАК Поле2,
//  ^ Token.Keyword.Constant
    0.0 КАК ДробноеЧисло,
//  ^^^ Token.Literal.Number
    0 КАК ЦелоеЧисло,
//  ^ Token.Literal.Number
    ВЫБОР КОГДА НЕ 0 = 0 * 1 ТОГДА ИСТИНА ИНАЧЕ ЛОЖЬ КОНЕЦ КАК Условие,
//  ^^^^^ Token.Keyword.Declaration
//        ^^^^^ Token.Keyword.Declaration
//              ^^ Token.Keyword.Declaration
//                   ^ Token.Operator
//                       ^ Token.Operator
//                           ^^^^^ Token.Keyword.Declaration
//                                        ^^^^^ Token.Keyword.Declaration
//                                                   ^^^^^ Token.Keyword.Declaration
    ГОД(ДАТАВРЕМЯ(1, 1, 1)) КАК Функция,
//  ^^^ Token.Keyword.Declaration
//     ^ not:Token.Keyword.Declaration
//      ^ Token.Keyword.Declaration
    ВЫРАЗИТЬ(0 КАК Число) КАК Выражение,
//  ^ Token.Keyword.Declaration
//                 ^^^^^ Token.Keyword.Declaration
    ВЫБОР КОГДА Неопределено ССЫЛКА Справочник.Справочник1 ТОГДА ИСТИНА КОНЕЦ КАК Ссылка,
//                           ^^^^^^ Token.Keyword.Declaration
//                                                                                ^^^^^^ not:Token.Keyword.Declaration
    ВЫБОР КОГДА Справочник.Справочник2 Есть NULL ТОГДА 0 ИНАЧЕ Справочник.Количество КОНЕЦ КАК Количество,
//                                     ^^^^^^^^^ Token.Keyword.Declaration
    ВЫБОР КОГДА Справочник.Справочник2 Есть НЕ NULL ТОГДА Справочник.Количество ИНАЧЕ 0 КОНЕЦ КАК Количество1,
//                                     ^^^^^^^^^^^^ Token.Keyword.Declaration
    ВЫБОР КОГДА Справочник.Справочник2 Is NULL ТОГДА 0 ИНАЧЕ Справочник.Количество КОНЕЦ КАК kolvo,
//                                     ^^^^^^^ Token.Keyword.Declaration
    ВЫБОР КОГДА Справочник.Справочник2 Is NOT NULL ТОГДА Справочник.Количество ИНАЧЕ 0 КОНЕЦ КАК kolvo1,
//                                     ^^^^^^^^^^^ Token.Keyword.Declaration   

    &Параметр КАК Параметр
//  ^^^^^^^^^ Token.Name.Variable


ПОДОБНО
Реквизит ПОДОБНО "123%"
Реквизит ПОДОБНО &Шаблон


Реквизит ПОДОБНО "123" + "%"
Реквизит ПОДОБНО &Шаблон + "%"
Реквизит ПОДОБНО Таблица.Шаблон

%
_
[…]
[^…]
_%[]^)

СПЕЦСИМВОЛ

    ВЫБРАТЬ
        Номенклатура.Ссылка КАК Ссылка 
    ИЗ
        Справочник.Номенклатура КАК Номенклатура
    ГДЕ
        Номенклатура.Наименование ПОДОБНО &Шаблон СПЕЦСИМВОЛ "~"

"Шуруп~_10~[21~] медь~~4~%" СПЕЦСИМВОЛ "~"

ВЫБРАТЬ * ИЗ РегистрСведений.КурсВал.СрезПервых()


ВЫБРАТЬ РАЗРЕШЕННЫЕ
	КОЛИЧЕСТВО(*) КАК Количество
ИЗ
	РегистрСведений.ВерсииОбъектов КАК ВерсииОбъектов
ГДЕ
	ВерсииОбъектов.Объект = &Документ

    ВЫБРАТЬ
	Параметр.Наименование КАК Наименование,
	Параметр.ТипОбъекта КАК ТипОбъекта,
	Параметр.ПолноеНаименование КАК ПолноеНаименование,
	Параметр.ОКТМО КАК ОКТМО,
	Параметр.КодСубъектаРФ КАК КодСубъектаРФ
ПОМЕСТИТЬ Классификатор
ИЗ
	&Классификатор КАК Параметр
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Классификатор.Наименование КАК Наименование,
	ЕСТЬNULL(СлужебныеАдресныеСведения.Значение, Классификатор.ПолноеНаименование) КАК Представление,
	Классификатор.ТипОбъекта КАК ТипОбъекта,
	Классификатор.КодСубъектаРФ КАК КодСубъектаРФ,
	Классификатор.ОКТМО КАК ОКТМО,
	ЗагруженныеВерсииАдресныхСведений.Версия КАК Версия,
	ЕСТЬNULL(ЗагруженныеВерсииАдресныхСведений.ДатаВерсии, ДАТАВРЕМЯ(1, 1, 1, 1, 1, 1)) КАК ДатаВерсии,
	ЕСТЬNULL(ЗагруженныеВерсииАдресныхСведений.ДатаЗагрузки, ДАТАВРЕМЯ(1, 1, 1, 1, 1, 1)) КАК ДатаЗагрузки,
	АдресныеОбъекты.Идентификатор КАК Идентификатор,
	НЕ ЗагруженныеВерсииАдресныхСведений.Версия ЕСТЬ NULL КАК Загружено,
	ДОБАВИТЬКДАТЕ(ЗагруженныеВерсииАдресныхСведений.ДатаЗагрузки, МЕСЯЦ, 1) < &ТекущаяДата КАК Устарело
ИЗ
	Классификатор КАК Классификатор
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.АдресныеОбъекты КАК АдресныеОбъекты
		ПО (АдресныеОбъекты.КодСубъектаРФ = Классификатор.КодСубъектаРФ)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЗагруженныеВерсииАдресныхСведений КАК ЗагруженныеВерсииАдресныхСведений
		ПО Классификатор.КодСубъектаРФ = ЗагруженныеВерсииАдресныхСведений.КодСубъектаРФ
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СлужебныеАдресныеСведения КАК СлужебныеАдресныеСведения
		ПО (Классификатор.КодСубъектаРФ = (ВЫРАЗИТЬ(СлужебныеАдресныеСведения.Идентификатор КАК ЧИСЛО(2, 0))))
			И (СлужебныеАдресныеСведения.Тип = &ТипСведений)
ГДЕ
	АдресныеОбъекты.Уровень = 1

УПОРЯДОЧИТЬ ПО
	КодСубъектаРФ